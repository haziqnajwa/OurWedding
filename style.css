/* style.css — RESTORED to match current index.html selectors
   + ONLY change for card_front/back: slight scale-up inside flip faces */

* { margin: 0; padding: 0; box-sizing: border-box; }

:root{
  --pageW:1240;
  --pageH:1748;

  --vpad:18px;
  --radius:22px;

  /* Flip-card placement (keep as-is if you previously tuned these) */
  --slot-left: 6.77%;
  --slot-top:  4.75%;
  --slot-width: 86.94%;
  --slot-height: 91.76%;

  /* RSVP */
  --rsvp-left:18%;
  --rsvp-width:64%;
  --rsvp-top1:48%;
  --rsvp-top2:57.5%;
  --rsvp-height:5.5%;
}

html, body { height: 100%; }
body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
  background:#260707;
  color:#fff;
  overflow:hidden;
}

/* Locked state before opening video ends */
body.locked { overflow: hidden; }

.slides{
  height:100vh;
  overflow-y:auto;
  scroll-snap-type:y mandatory;
  scroll-behavior:smooth;
}

/* JS toggles this class off after opening video ends */
.lockedContent{ overflow:hidden; }

.slide,
.openingSection{
  height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  scroll-snap-align:start;
}

.stage{
  width:min(92vw, calc(var(--pageW)*1px));
  height:calc(100vh - (var(--vpad)*2));
  max-height:calc(var(--pageH)*1px);
  aspect-ratio: var(--pageW) / var(--pageH);
  border-radius:var(--radius);
  overflow:hidden;
  position:relative;
  box-shadow:0 30px 60px rgba(0,0,0,.55);
  background:#000;
}

.stageMedia{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:contain;
}

/* Cinematic vignette */
.stage::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(120% 120% at 50% 35%,
      rgba(255,255,255,0.06) 0%,
      rgba(0,0,0,0.00) 40%,
      rgba(0,0,0,0.35) 78%,
      rgba(0,0,0,0.62) 100%);
  mix-blend-mode:overlay;
  z-index:2;
}

/* Sparkles overlay */
.stage::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:3;
  background-image:
    radial-gradient(circle, rgba(255,255,255,.95) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,.8) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,.6) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,.5) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,.4) 0 1px, transparent 2px),
    radial-gradient(circle, rgba(255,255,255,.35) 0 1px, transparent 2px);
  background-size:
    220px 220px,
    280px 280px,
    340px 340px,
    420px 420px,
    520px 520px,
    680px 680px;
  background-position:
    10% 20%,
    70% 10%,
    40% 65%,
    85% 55%,
    20% 80%,
    60% 90%;
  opacity:.55;
  filter: blur(.4px);
  animation: sparkleBlink 1.7s infinite ease-in-out, sparkleFloat 9s infinite ease-in-out;
  mix-blend-mode: screen;
}

@keyframes sparkleBlink{
  0%,100%{opacity:.35}
  50%{opacity:.75}
}

@keyframes sparkleFloat{
  0%{transform:translate3d(0,0,0)}
  50%{transform:translate3d(-8px, -14px, 0)}
  100%{transform:translate3d(0,0,0)}
}

@media (prefers-reduced-motion: reduce){
  .stage::after{ animation:none; }
}

/* Utility */
.hidden{ display:none !important; }

/* ---------- MUSIC BUTTON (matches index.html: #musicToggle + .musicBtn) ---------- */
.musicBtn{
  position:fixed;
  top:14px;
  right:14px;
  z-index:100;
  width:46px;
  height:46px;
  border-radius:999px;
  border:none;
  background:rgba(255,255,255,.92);
  color:#3b0b0b;
  font-weight:900;
  cursor:pointer;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
}
.musicBtn:active{ transform:scale(.98); }

/* ---------- OPENING (matches .openingCover + .openHit) ---------- */
.openingCover{
  position:absolute;
  inset:0;
}

/* IMPORTANT: make seal button clickable on desktop + mobile */
.openHit{
  position:absolute;
  inset:0;
  z-index:6;              /* above opening image */
  border:none;
  background:transparent;
  cursor:pointer;
  pointer-events:auto;
  -webkit-tap-highlight-color: transparent;
}

/* Optional helper label (your HTML uses .tapText) */
.tapText{
  position:absolute;
  left:50%;
  bottom:8%;
  transform:translateX(-50%);
  padding:10px 14px;
  border-radius:999px;
  background:rgba(0,0,0,.28);
  color:rgba(255,255,255,.92);
  font-weight:700;
  letter-spacing:.02em;
  font-size:14px;
  text-shadow:0 2px 10px rgba(0,0,0,.45);
  pointer-events:none;
}

/* ---------- OVERLAY base ---------- */
.overlay{
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:5;
}

/* ---------- CARD (Flip) ---------- */
.cardSlot{
  position:absolute;
  left:var(--slot-left);
  top:var(--slot-top);
  width:var(--slot-width);
  height:var(--slot-height);
  perspective:1200px;
  overflow:hidden;
  pointer-events:auto;     /* allow tapping to flip */
}

.flipWrap{
  width:100%;
  height:100%;
  border:none;
  background:none;
  cursor:pointer;
  padding:0;
}

.flipCard{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.2,.85,.2,1);
}

.flipCard.isFlipped{ transform:rotateY(180deg); }

.flipFace{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
}

.flipBack{ transform:rotateY(180deg); }

/* ✅ ONLY CHANGE REQUESTED:
   Make card_front.webp and card_back.webp slightly bigger to cover paper bg.
   (Does NOT touch slot size, text, flow, or any other card.) */
.flipFace img{
  width:100%;
  height:100%;
  object-fit:contain;      /* preserve your design */
  object-position:center;
  display:block;
  transform:scale(1.06);   /* slight enlargement to remove top/bottom gaps */
  transform-origin:center;
}

/* ---------- RSVP ---------- */
.rsvpOverlay{
  position:absolute;
  left:var(--rsvp-left);
  width:var(--rsvp-width);
  top:0;
  height:100%;
  pointer-events:auto;
}

.rsvpBtn{
  position:absolute;
  left:0;
  width:100%;
  height:var(--rsvp-height);
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  font-weight:800;
  color:#5b0b0b;
  background:rgba(255,255,255,.92);
  border-radius:999px;
  box-shadow:0 15px 35px rgba(0,0,0,.3);
}

#mapLink{ top:var(--rsvp-top1); }
#rsvpLink{ top:var(--rsvp-top2); }

/* ---------- COUNTDOWN (matches index.html: .countdownOverlay .countdownRow) ---------- */
.countdownOverlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}

.countdownRow{
  width:min(88%, 720px);
  display:flex;
  justify-content:space-between;
  gap:10px;
}

.cdItem{ flex:1; text-align:center; padding:10px 0; }

.cdNum{
  font-size:clamp(24px, 4vw, 50px);
  font-weight:900;
  letter-spacing:.05em;
  text-shadow:0 10px 25px rgba(0,0,0,.35);
}
.cdLbl{
  margin-top:3px;
  font-size:clamp(10px, 1.2vw, 14px);
  opacity:.85;
  letter-spacing:.18em;
  text-transform:uppercase;
}

/* ---------- GALLERY (matches index.html selectors) ---------- */
.galleryOverlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:auto;
}

.galleryViewport{
  width:min(86vw, 520px);
  aspect-ratio: 3/4;
  border-radius:18px;
  overflow:hidden;
  position:relative;
  box-shadow:0 18px 45px rgba(0,0,0,.5);
  background:rgba(0,0,0,.25);
  touch-action: pan-y; /* allow vertical scroll, JS handles horizontal swipe */
}

#galleryImg{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  user-select:none;
  -webkit-user-drag:none;
  opacity:1;
}

.fadeIn{ animation: fadeIn .22s ease-out; }
@keyframes fadeIn{ from{opacity:.4; transform:scale(1.01)} to{opacity:1; transform:scale(1)} }

.galleryArrow{
  width:44px;
  height:44px;
  border:none;
  border-radius:999px;
  background:rgba(255,255,255,.9);
  color:#3b0b0b;
  font-weight:900;
  cursor:pointer;
  box-shadow:0 12px 28px rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
}

.galleryArrow.left{ margin-right:14px; }
.galleryArrow.right{ margin-left:14px; }
.galleryArrow:active{ transform:scale(.98); }

.galleryDots{
  position:absolute;
  bottom:10%;
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:8px;
  pointer-events:auto;
}

.dot{
  width:9px;
  height:9px;
  border-radius:99px;
  border:none;
  background:rgba(255,255,255,.45);
  cursor:pointer;
}
.dot.active{ background:rgba(255,255,255,.92); }

/* ---------- DOA ---------- */
.doaOverlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  pointer-events:none;
}

.doaType{
  width:min(82%, 820px);
  height:min(46%, 520px);
  color:#3b0b0b;
  text-align:center;
  white-space:pre-wrap;
  line-height:1.55;
  text-shadow:0 1px 0 rgba(255,255,255,.5);
  overflow:hidden;
}

/* ---------- Responsive ---------- */
@media (max-width:520px){
  :root{
    --vpad:14px;
    --radius:18px;
  }
  .musicBtn{ top:10px; right:10px; }
  .tapText{ font-size:13px; bottom:7%; }
}

@media (max-height:720px){
  :root{ --vpad:10px; }
}
