*{margin:0;padding:0;box-sizing:border-box}

:root{
  /* 1240 x 1748 */
  --pageW: 1240;
  --pageH: 1748;

  --vpad: 18px;
  --radius: 22px;
  --shadow: 0 20px 60px rgba(0,0,0,.22);

  /* ===========================================
     CARD SLOT (from your card_bg.png red overlay)
     left: 11.50% | top: 7.67% | width: 77.20% | height: 82.67%
     =========================================== */
  --slot-left: 11.50%;
  --slot-top: 7.67%;
  --slot-width: 77.20%;
  --slot-height: 82.67%;

  /* RSVP placement */
  --rsvp-left: 22%;
  --rsvp-top: 62%;
  --rsvp-width: 56%;

  /* Countdown placement */
  --count-left: 50%;
  --count-top: 27%;

  /* Gallery viewport placement */
  --gal-left: 14%;
  --gal-top: 15%;
  --gal-width: 72%;
  --gal-height: 70%;

  /* DOA placement (keeps text above the couple) */
  --doa-left: 19%;
  --doa-top: 12%;
  --doa-width: 62%;
  --doa-height: 56%;
}

body{
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: url("bg_red.webp") center/cover fixed no-repeat;
  overflow-x:hidden;
}

@media (max-width:768px){
  body{ background-attachment:scroll; }
}

body.locked{
  height:100vh;
  overflow:hidden;
}

.hidden{ display:none !important; }
.lockedContent{ display:none; }

/* ===== Slide snap ===== */
.slides{
  scroll-snap-type: y mandatory;
  scroll-behavior: smooth;
}
.slide{
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: var(--vpad);
  scroll-snap-align: start;
  scroll-snap-stop: always;
}

/* ===== Shared stage sizing ===== */
.stage{
  width: min(96vw, calc((100vh - (2 * var(--vpad))) * (var(--pageW) / var(--pageH))));
  aspect-ratio: var(--pageW) / var(--pageH);
  position:relative;
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
}

.openingSection{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding: var(--vpad);
}

.stageMedia{
  width:100%;
  height:100%;
  display:block;
  object-fit: contain;
  background:#000;
}

.overlay{
  position:absolute;
  inset:0;
  pointer-events:none;
}

/* ===== Opening cover ===== */
.openingCover{ position:absolute; inset:0; }
.openHit{
  position:absolute;
  inset:0;
  border:none;
  background:transparent;
  cursor:pointer;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding:22px;
}
.tapText{
  padding:10px 16px;
  border-radius:999px;
  font-weight:900;
  color:#fff;
  background:rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
}

/* ===== Music button ===== */
.musicBtn{
  position:fixed;
  right:18px;
  bottom:18px;
  width:56px;
  height:56px;
  border-radius:50%;
  border:none;
  cursor:pointer;
  background:rgba(255,255,255,.9);
  box-shadow: var(--shadow);
  z-index:50;
}

/* =======================================================
   CARD SLOT + FLIP
   - Slot matches red rectangle.
   - Card is now LARGE: it "covers" the slot paper.
   - Flip truly switches front/back images.
   ======================================================= */
.cardSlot{
  position:absolute;
  left: var(--slot-left);
  top: var(--slot-top);
  width: var(--slot-width);
  height: var(--slot-height);

  pointer-events:auto;
  overflow:hidden;               /* hard boundary */
  border-radius: 10px;
}

.flipWrap{
  width:100%;
  height:100%;
  border:none;
  background:transparent;
  padding:0;
  cursor:pointer;
}

.flipWrap:focus{ outline:none; }
.srOnly{
  position:absolute;
  width:1px;height:1px;
  padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);
  white-space:nowrap;border:0;
}

/* Real flip-card container */
.flipCard{
  width:100%;
  height:100%;
  position:relative;
  transform-style: preserve-3d;
  transition: transform .9s cubic-bezier(.2,.85,.2,1);
  perspective: 1400px;
}

.flipCard.isFlipped{
  transform: rotateY(180deg);
}

.flipFace{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
  -webkit-backface-visibility:hidden;
}

.flipBack{
  transform: rotateY(180deg);
}

/* âœ… Make card LARGE: cover the whole square paper */
.flipFace img{
  width:100%;
  height:100%;
  display:block;
  object-fit: cover;            /* fills slot fully */
  transform: scale(1.02);       /* tiny scale to remove edge gaps */
}

/* ===== RSVP ===== */
.rsvpOverlay{
  pointer-events:auto;
  position:absolute;
  left: var(--rsvp-left);
  top: var(--rsvp-top);
  width: var(--rsvp-width);
  display:flex;
  flex-direction:column;
  gap:12px;
}
.rsvpBtn{
  display:flex;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  font-weight:900;
  padding:12px 14px;
  border-radius:999px;
  background:rgba(255,255,255,.88);
  color:#3b0b0b;
  border:1px solid rgba(120,0,0,.25);
  box-shadow:0 10px 28px rgba(0,0,0,.18);
}

/* ===== Countdown ===== */
.countdownOverlay{
  position:absolute;
  left: var(--count-left);
  top: var(--count-top);
  transform: translate(-50%, -50%);
  pointer-events:none;
}
.countdownText{
  padding:12px 16px;
  border-radius:18px;
  background:rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.22);
  backdrop-filter: blur(10px);
  color:#fff;
  font-weight:900;
  font-size: clamp(16px, 3.6vw, 22px);
}

/* ===== Gallery ===== */
.galleryOverlay{
  pointer-events:auto;
  position:absolute;
  left: var(--gal-left);
  top: var(--gal-top);
  width: var(--gal-width);
  height: var(--gal-height);
  display:grid;
  grid-template-columns:44px 1fr 44px;
  align-items:center;
  gap:10px;
}
.galleryViewport{
  overflow:hidden;
  width:100%;
  height:100%;
  border-radius:18px;
  background:rgba(255,255,255,.12);
  box-shadow:0 12px 30px rgba(0,0,0,.18);
  touch-action: pan-y;
}
.galleryTrack{
  height:100%;
  display:flex;
  transition: transform .35s ease;
}
.gSlide{
  flex:0 0 100%;
  height:100%;
  display:flex;
  align-items:center;
  justify-content:center;
}
.gSlide img{
  width:100%;
  height:100%;
  object-fit: contain;
  display:block;
}
.galleryNav{
  width:44px;
  height:44px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  font-size:26px;
  background:rgba(255,255,255,.75);
  box-shadow:0 10px 28px rgba(0,0,0,.18);
}

/* =======================================================
   DOA TEXT
   - NO white/transparent box
   - Center aligned
   - Must stay inside the red frame area, above the couple
   ======================================================= */
.doaOverlay{
  position:absolute;
  left: var(--doa-left);
  top: var(--doa-top);
  width: var(--doa-width);
  height: var(--doa-height);

  pointer-events:none;
  overflow:hidden;               /* hard boundary to protect couple */
  display:flex;
  align-items:flex-start;
  justify-content:center;
}

.doaType{
  width:100%;
  height:100%;

  /* no box */
  background: transparent;
  padding: 0;

  /* wrapping */
  white-space: pre-wrap;
  overflow-wrap: anywhere;
  word-break: break-word;

  /* center aligned */
  text-align: center;

  /* tuned size: large enough to "fill" but not overflow */
  font-weight: 800;
  line-height: 1.32;
  font-size: clamp(12px, 1.35vw, 16px);

  /* readable over background without a box */
  color:#2b0b0b;
  text-shadow: 0 1px 0 rgba(255,255,255,.6), 0 2px 10px rgba(0,0,0,.15);
}
