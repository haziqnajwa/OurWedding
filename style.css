*{margin:0;padding:0;box-sizing:border-box}

:root{
  --pageW:1240;
  --pageH:1748;

  --vpad:18px;
  --radius:22px;

  /* Card placement */
  --slot-left:11.5%;
  --slot-top:7.7%;
  --slot-width:77.2%;
  --slot-height:82.7%;

  /* Smaller DOA text area (yellow box match) */
  --doa-left:22%;
  --doa-top:14.5%;
  --doa-width:56%;
  --doa-height:27%;
}

body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:url("bg_red.webp") center/cover fixed no-repeat;
  overflow-x:hidden;
}

body.locked{
  height:100vh;
  overflow:hidden;
}

.hidden{display:none!important}
.lockedContent{display:none}

/* Slides */
.slides{scroll-snap-type:y mandatory}
.slide{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:var(--vpad);
  scroll-snap-align:start;
}

/* Stage */
.stage{
  width:min(96vw,calc((100vh - (2*var(--vpad)))*(var(--pageW)/var(--pageH))));
  aspect-ratio:var(--pageW)/var(--pageH);
  position:relative;
  border-radius:var(--radius);
  overflow:hidden;
  box-shadow:0 20px 60px rgba(0,0,0,.22);
}

.stageMedia{
  width:100%;
  height:100%;
  object-fit:contain;
  display:block;
}

.overlay{
  position:absolute;
  inset:0;
  pointer-events:none;
}

/* Opening */
.openingSection{
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:var(--vpad);
}

.openHit{
  position:absolute;
  inset:0;
  border:none;
  background:transparent;
  cursor:pointer;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding:20px;
}

.tapText{
  background:rgba(0,0,0,.4);
  color:#fff;
  padding:10px 18px;
  border-radius:999px;
  font-weight:900;
}

/* Music */
.musicBtn{
  position:fixed;
  right:18px;
  bottom:18px;
  width:56px;
  height:56px;
  border-radius:50%;
  border:none;
  background:#fff;
  cursor:pointer;
}

/* Card flip */
.cardSlot{
  position:absolute;
  left:var(--slot-left);
  top:var(--slot-top);
  width:var(--slot-width);
  height:var(--slot-height);
  perspective:1200px;
  overflow:hidden;
}

.flipWrap{
  width:100%;
  height:100%;
  border:none;
  background:none;
  cursor:pointer;
}

.flipCard{
  width:100%;
  height:100%;
  position:relative;
  transform-style:preserve-3d;
  transition:transform .9s cubic-bezier(.2,.85,.2,1);
}

.flipCard.isFlipped{
  transform:rotateY(180deg);
}

.flipFace{
  position:absolute;
  inset:0;
  backface-visibility:hidden;
}

.flipBack{
  transform:rotateY(180deg);
}

.flipFace img{
  width:100%;
  height:100%;
  object-fit:cover;
  transform:scale(1.09);
}

/* DOA TEXT */
.doaOverlay{
  position:absolute;
  left:var(--doa-left);
  top:var(--doa-top);
  width:var(--doa-width);
  height:var(--doa-height);
  overflow:hidden;
  display:flex;
  align-items:flex-start;
  justify-content:center;
}

.doaType{
  width:100%;
  height:100%;
  white-space:pre-wrap;
  overflow-wrap:anywhere;
  text-align:center;
  font-weight:800;
  line-height:1.35; /* paragraph spacing */
  color:#2b0b0b;
  font-size:14px;
  text-shadow:0 1px 0 rgba(255,255,255,.6);
}
